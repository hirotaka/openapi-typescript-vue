---
title: useMutation
---
# {{ $frontmatter.title }}

The `useMutation` method allows you to use the original [useMutation](https://tanstack.com/query/latest/docs/framework/vue/guides/mutations).

- The result is the same as the original function.
- The `mutationKey` is `[method, path]`.
- `data` and `error` are fully typed.

::: tip
You can find more information about `useMutation` on the [@tanstack/vue-query documentation](https://tanstack.com/query/latest/docs/framework/vue/guides/mutations).
:::

## Example

::: code-group

```vue [src/App.vue]
<script setup lang="ts">
import { $api } from "./api";

const { mutate } = $api.useMutation("patch", "/users");
</script>

<template>
  <button @click="mutate({ body: { firstname: 'John'} })">
    Update
  </button>
</template>
```

```ts [src/api.ts]
import createFetchClient from "openapi-fetch";
import createClient from "openapi-vue-query";
import type { paths } from "./my-openapi-3-schema"; // generated by openapi-typescript

const fetchClient = createFetchClient<paths>({
  baseUrl: "https://myapi.dev/v1/",
});
export const $api = createClient(fetchClient);
```

:::

## Api

```ts
const query = $api.useMutation(method, path, queryOptions, queryClient);
```

**Arguments**

- `method` **(required)**
  - The HTTP method to use for the request.
  - The method is used as key. See [Query Keys](https://tanstack.com/query/latest/docs/framework/vue/guides/query-keys) for more information.
- `path` **(required)**
  - The pathname to use for the request.
  - Must be an available path for the given method in your schema.
  - The pathname is used as key. See [Query Keys](https://tanstack.com/query/latest/docs/framework/vue/guides/query-keys) for more information.
- `queryOptions`
  - The original `useMutation` options.
  - [See more information](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- `queryClient`
  - The original `queryClient` option.
  - [See more information](https://tanstack.com/query/latest/docs/framework/vue/reference/useMutation)
